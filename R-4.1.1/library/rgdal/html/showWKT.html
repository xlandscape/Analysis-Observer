<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Show Well-Known Text spatial reference system metadata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for showWKT {rgdal}"><tr><td>showWKT {rgdal}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Show Well-Known Text spatial reference system metadata</h2>

<h3>Description</h3>

<p>In modern workflows with PROJ &gt;= 6 and GDAL &gt;= 3, use only <code>showSRID()</code>
DEPRECATED: Use GDAL/OGR spatial reference objects to convert a PROJ.4 representation to a Well-Known Text representation, and report an EPSG code if it can be determined by OGR SRS services.
</p>


<h3>Usage</h3>

<pre>
showWKT(p4s, file = NULL, morphToESRI = FALSE, enforce_xy = NULL)
showP4(wkt, morphFromESRI=FALSE, enforce_xy = NULL)
showEPSG(p4s, enforce_xy = NULL)
showSRID(inSRID, format="WKT2", multiline="NO", enforce_xy = NULL, EPSG_to_init=TRUE,
 prefer_proj=NULL)
get_P6_datum_hard_fail()
set_P6_datum_hard_fail(value)
get_thin_PROJ6_warnings()
set_thin_PROJ6_warnings(value)
get_prefer_proj()
set_prefer_proj(value)
get_rgdal_show_exportToProj4_warnings()
set_rgdal_show_exportToProj4_warnings(value)
get_PROJ6_warnings_count()
OSRIsProjected(obj)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>p4s</code></td>
<td>
<p>A valid PROJ.4 string representing a spatial reference system</p>
</td></tr>
<tr valign="top"><td><code>file</code></td>
<td>
<p>if not NULL, a file name to which the output Well-Known Text representation should be written</p>
</td></tr>
<tr valign="top"><td><code>morphToESRI</code></td>
<td>
<p>default FALSE, morph the WKT string to the representation used by ESRI; set FALSE by default 2020-03-04 to avoid occasional Windows crashes seen when passing a very modern WKT string to an old version of PROJ: <a href="https://github.com/edzer/sp/issues/75">https://github.com/edzer/sp/issues/75</a></p>
</td></tr>
<tr valign="top"><td><code>enforce_xy</code></td>
<td>
<p>(PROJ6+/GDAL3+) either use global setting (default NULL) or override policy for coordinate ordering easting/x as first axis, northing/y as second axis.</p>
</td></tr>
<tr valign="top"><td><code>wkt</code></td>
<td>
<p>A valid WKT character string representing a spatial reference system</p>
</td></tr>
<tr valign="top"><td><code>morphFromESRI</code></td>
<td>
<p>default TRUE, morph the WKT string from the representation used by ESRI</p>
</td></tr>
<tr valign="top"><td><code>inSRID</code></td>
<td>
<p>Input coordinate reference string</p>
</td></tr>
<tr valign="top"><td><code>obj</code></td>
<td>
<p>valid CRS object</p>
</td></tr>
<tr valign="top"><td><code>format</code></td>
<td>
<p>Output format, default WKT2</p>
</td></tr>
<tr valign="top"><td><code>multiline</code></td>
<td>
<p>Multiline output, either <code>"NO"</code> or <code>"YES"</code></p>
</td></tr>
<tr valign="top"><td><code>EPSG_to_init</code></td>
<td>
<p>default TRUE, workaround for PROJ 6.3.0 frailty leading to the dropping of +ellps= and +units=; DATUM seems to disappear in the internal definition</p>
</td></tr>
<tr valign="top"><td><code>prefer_proj</code></td>
<td>
<p>default NULL, if TRUE, use PROJ compiled code directly, rather than FALSE using PROJ via GDAL SRS; if NULL, uses value shown by <code>get_prefer_proj()</code> set on startup to TRUE.</p>
</td></tr>
</table>

<table summary="R argblock">
<tr valign="top"><td><code>value</code></td>
<td>
<p>a logical value. For <code>set_P6_datum_hard_fail()</code>: by default, a deprecated/ignored input DATUM key/value pair on reading a file with PROJ6 will give a warning (default FALSE); if TRUE, an error is triggered, which may be trapped using <code>try</code>. For <code>set_thin_PROJ6_warnings()</code> default FALSE, can be set to TRUE to report only once and count the number of non-issues warnings, retrieved by <code>get_PROJ6_warnings_count()</code>. For <code>set_rgdal_show_exportToProj4_warnings()</code>, default in <span class="pkg">rgdal</span> version 1.5.* TRUE, from 1.6 FALSE. The <code>options("rgdal_show_exportToProj4_warnings"="x")</code> may be used before loading <span class="pkg">rgdal</span> to set the internal logical variables; if the option is set to <code>"all"</code>, all warnings reporting CRS degradation stemming from the GDAL OSR function <code>exportToProj4()</code> even if trivial are reported; if set to <code>"thin"</code>, all warnings are detected but thinned so that one report is given per function call; if set to &quot;none&quot;, the degradations are detected but not reported.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>showWKT</code>, a character string containing the WKT representation of the PROJ.4 string.
</p>


<h3>Note</h3>

<p>The <code>options("rgdal_show_exportToProj4_warnings"="x")</code> may be used before loading <span class="pkg">rgdal</span> to set the internal logical variables; if the option is set to <code>"all"</code>, all warnings reporting CRS degradation stemming from the GDAL OSR function <code>exportToProj4()</code> even if trivial are reported; if set to <code>"thin"</code>, all warnings are detected but thinned so that one report is given per function call; if set to <code>"none"</code>, the degradations are detected but not reported.</p>


<h3>Author(s)</h3>

<p>Roger Bivand</p>


<h3>References</h3>

<p><a href="https://gdal.org/tutorials/osr_api_tut.html">https://gdal.org/tutorials/osr_api_tut.html</a></p>


<h3>See Also</h3>

<p><code><a href="../../sp/help/is.projected.html">is.projected</a></code>, <code><a href="../../sp/help/CRS-class.html">CRS-class</a></code></p>


<h3>Examples</h3>

<pre>
set_thin_PROJ6_warnings(TRUE)
cities &lt;- readOGR(system.file("vectors", package = "rgdal")[1], "cities")
readLines(system.file("vectors/cities.prj", package = "rgdal")[1])
showWKT(proj4string(cities))
showWKT("+init=epsg:28992")
showP4(showWKT("+init=epsg:28992"))
showEPSG("+proj=utm +zone=30")
showEPSG("+proj=longlat +ellps=WGS84")
exts &lt;- rgdal_extSoftVersion()
run &lt;- new_proj_and_gdal()
if (run) {
  cat(showSRID("EPSG:27700", multiline="YES"), "\n")
}
if (run) {
(prj &lt;- showSRID("EPSG:27700", "PROJ"))
}
if (run) {
showSRID(paste0(prj, " +datum=OSGB36"), "WKT1")
}
if (run) {
showSRID(paste0(prj, " +towgs84=370.936,-108.938,435.682"), "WKT1")
}
if (run) {
showSRID(paste0(prj, " +nadgrids=OSTN15_NTv2_OSGBtoETRS.gsb"), "WKT1")
}
if (run) {
showSRID(paste0(prj, " +datum=OSGB36"), "WKT2")
}
if (run) {
showSRID(paste0(prj, " +towgs84=370.936,-108.938,435.682"), "WKT2")
}
if (run) {
showSRID(paste0(prj, " +nadgrids=OSTN15_NTv2_OSGBtoETRS.gsb"), "WKT2")
}
if (run) {
showSRID("ESRI:102761", "WKT2")
}
if (run) {
showSRID("OGC:CRS84", "WKT2")
}
if (run) {
showSRID("urn:ogc:def:crs:OGC:1.3:CRS84", "WKT2")
}
if (run) {
try(showSRID("", "WKT2"))
}

OSRIsProjected(CRS("+proj=longlat"))
OSRIsProjected(CRS("+proj=geocent"))
OSRIsProjected(CRS("+proj=geocent +units=km"))
</pre>

<hr /><div style="text-align: center;">[Package <em>rgdal</em> version 1.5-25 <a href="00Index.html">Index</a>]</div>
</div></body></html>
